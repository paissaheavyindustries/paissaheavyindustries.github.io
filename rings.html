<head>
<meta name="viewport" content="width=device-width; initial-scale=1.0;">
<style type='text/css'>

body { background: #888; font-family: Open Sans; }
.container { text-align: center; width: 100%; height: 100%; position: relative; }
.wheelcontainer svg { max-width: 95vmin; max-height: 95vmin; }
.ring { fill: #666; stroke:#000; stroke-width:0.01 }
.ring.enabled { fill:#ffff44 !important; }
.entry { fill: #000; stroke: #aaa; stroke-width:0.01; }
.entryact { fill: #440; stroke: #fff; stroke-width:0.03; }
.wheelui { position: absolute; }
.digit { fill: white; pointer-events: none;}
.digithelp { fill: #bbb; pointer-events: none;}
.solutionbox { fill: #000; stroke: #0f0; stroke-width:0.02; pointer-events: none;}
.solutiontext { fill: #0f0; pointer-events: none;}
.unneeded { fill: #888 !important; pointer-events: none; }
.hidden { display: none; visibility: hidden; }
@media only screen and (orientation:portrait)
{
	.wheel { width: 100%; }
	.wheelcontainer { width: 100%; position: absolute; top: 50%; transform: translateY(-50%); }
}
@media only screen and (orientation:landscape)
{
	.wheel { height: 100%; }
	body { padding: 20px 0px; }
}
</style>
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
</head>

<script type="text/javascript">

var digitEntry = 0;

var solutions = [];

function add_solution(cfg, t1, t2, t3, solution)
{
	if (solutions[cfg] === undefined)
	{
		solutions[cfg] = [];
	}
	if (solutions[cfg][t1] === undefined)
	{
		solutions[cfg][t1] = [];
	}
	if (solutions[cfg][t1][t2] === undefined)
	{
		solutions[cfg][t1][t2] = [];
	}
	if (solutions[cfg][t1][t2][t3] === undefined)
	{
		solutions[cfg][t1][t2][t3] = solution;
	}
	else		
	{
		document.write('duplicated '+cfg+' ' +t1+ ' '+t2+' '+t3+' '+solution+' = '+solutions[cfg][t1][t2][t3] + '<br>');
	}
}

function assignValue(val)
{
	if (digitEntry >= 4)
	{
		enterDigit(1, false);
	}
	var r = document.getElementById("ring-" + val);
	r.classList = 'ring enabled';
	setTimeout(function() { r.classList = 'ring'; }, 100);	
	setTimeout(function() { r.classList = 'ring enabled'; }, 200);
	setTimeout(function() { r.classList = 'ring'; }, 300);	
	setTimeout(function() { r.classList = 'ring enabled'; }, 400);
	setTimeout(function() { r.classList = 'ring'; }, 500);
	var ev = document.getElementById("digit" + digitEntry + "val");
	ev.textContent = val;
	refresh_solution();
	enterDigit(digitEntry + 1, false);
}

function enterDigit(num, useract)
{
	for (i = 1; i < 4; i++)
	{
		var e = document.getElementById("digit" + i);
		var ev = document.getElementById("digit" + i + "val");
		if (i == num)
		{
			e.classList = 'entryact';
			ev.textContent = '';
		}
		else
		{
			if (e.classList != "unneeded")
			{
				e.classList = 'entry';
			}
			if (i > num)
			{
				ev.textContent = '';
			}
		}
	}
	if (num == 1 || num == 2)
	{
		solution_unknown();
	}
	digitEntry = num;
}

function solution_unknown()
{
	document.getElementById("solutionbox").classList = 'solutionbox hidden';
	document.getElementById("solutiontext").textContent = '';
	document.getElementById("solutiontext").classList = 'solutiontext hidden';
	set_third_state(true);
}

function solution_known(sol)
{
	document.getElementById("solutionbox").classList = 'solutionbox';
	document.getElementById("solutiontext").textContent = sol;
	document.getElementById("solutiontext").classList = 'solutiontext';
}

function set_third_state(val)
{
	e = document.getElementById("digit3");
	if (val == true)
	{
		e.classList = 'entry';
	}
	else
	{
		e.classList = 'unneeded';
	}
}

function show_info()
{
	str = "You don't have to choose solar/arc/void, it will automatically change to the correct one for the week.\n\n";
	str += "Simply select both numbers on terminal 1, and then the left number on terminal 3 if needed.\n\n";
	str += "Selection wheel by: Moment_Beta#6896\nArc config sourced from: https://bit.ly/2LIDlti";
	alert(str);
}

function refresh_solution()
{
	cfg = 3;
	t1 = document.getElementById("digit1val");
	t1 = t1.textContent;
	t2 = document.getElementById("digit2val");
	t2 = t2.textContent;
	t3 = document.getElementById("digit3val");
	t3 = t3.textContent;
	if (solutions[cfg] === undefined)
	{
		solution_unknown();
		return;
	}		
	if (solutions[cfg][t1] === undefined)
	{
		solution_unknown();
		return;
	}		
	if (solutions[cfg][t1][t2] === undefined)
	{
		solution_unknown();
		return;
	}
	var sols = 0;
	var onlySol = null;
	solutions[cfg][t1][t2].forEach(function(element) {
		sols++;
		onlySol = element;
	});
	if (sols == 1)
	{
		digitEntry = 3;
		solution_known(onlySol);
		set_third_state(false);
	}
	else
	{
		if (solutions[cfg][t1][t2][t3] === undefined)			
		{
			solution_unknown();
			return;
		}
		digitEntry = 3;
		solution_known(solutions[cfg][t1][t2][t3]);
	}
}

add_solution(1, 4, 3, 2, "Green1");add_solution(1, 2, 4, 3, "Green2");add_solution(1, 9, 3, 12, "Green3");add_solution(1, 10, 3, 7, "Green4");add_solution(1, 7, 4, 7, "Green5");add_solution(1, 10, 12, 8, "Green6");add_solution(1, 3, 3, 6, "Green7");add_solution(1, 1, 1, 8, "White1");add_solution(1, 10, 2, 9, "White2");add_solution(1, 8, 6, 2, "White3");add_solution(1, 12, 5, 5, "White4");add_solution(1, 4, 8, 9, "White5");add_solution(1, 7, 2, 3, "White6");add_solution(1, 6, 9, 8, "White7");add_solution(1, 4, 9, 5, "Yellow1");add_solution(1, 2, 5, 3, "Yellow2");add_solution(1, 1, 7, 8, "Yellow3");add_solution(1, 7, 9, 5, "Yellow4");add_solution(1, 8, 6, 12, "Yellow5");add_solution(1, 2, 7, 9, "Yellow6");add_solution(1, 11, 4, 12, "Yellow7");add_solution(1, 1, 2, 11, "Red1");add_solution(1, 1, 1, 6, "Red2");add_solution(1, 8, 10, 11, "Red3");add_solution(1, 11, 4, 7, "Red4");add_solution(1, 5, 6, 7, "Red5");add_solution(1, 1, 10, 3, "Red6");add_solution(1, 11, 6, 11, "Red7");add_solution(1, 2, 6, 10, "Cyan1");add_solution(1, 8, 4, 9, "Cyan2");add_solution(1, 1, 12, 5, "Cyan3");add_solution(1, 6, 11, 12, "Cyan4");add_solution(1, 12, 2, 2, "Cyan5");add_solution(1, 8, 12, 9, "Cyan6");add_solution(1, 8, 5, 11, "Cyan7");add_solution(1, 12, 5, 4, "Blue1");add_solution(1, 10, 5, 3, "Blue2");add_solution(1, 11, 11, 8, "Blue3");add_solution(1, 4, 6, 5, "Blue4");add_solution(1, 7, 12, 5, "Blue5");add_solution(1, 11, 1, 10, "Blue6");add_solution(1, 11, 4, 4, "Blue7");add_solution(1, 6, 5, 1, "Purple1");add_solution(1, 9, 9, 8, "Purple2");add_solution(1, 11, 7, 12, "Purple3");add_solution(1, 9, 7, 12, "Purple4");add_solution(1, 2, 9, 10, "Purple5");add_solution(1, 4, 3, 4, "Purple6");add_solution(1, 5, 9, 12, "Purple7");add_solution(2, 10, 11, 8, "Green1");add_solution(2, 2, 9, 2, "Green2");add_solution(2, 2, 4, 8, "Green3");add_solution(2, 12, 12, 4, "Green4");add_solution(2, 10, 12, 12, "Green5");add_solution(2, 4, 12, 2, "Green6");add_solution(2, 8, 9, 11, "Green7");add_solution(2, 6, 3, 7, "White1");add_solution(2, 11, 1, 7, "White2");add_solution(2, 10, 12, 5, "White3");add_solution(2, 4, 5, 1, "White4");add_solution(2, 4, 8, 4, "White5");add_solution(2, 11, 11, 3, "White6");add_solution(2, 8, 12, 12, "White7");add_solution(2, 4, 12, 4, "Yellow1");add_solution(2, 9, 10, 7, "Yellow2");add_solution(2, 9, 1, 11, "Yellow3");add_solution(2, 3, 8, 3, "Yellow4");add_solution(2, 7, 9, 10, "Yellow5");add_solution(2, 10, 11, 4, "Yellow6");add_solution(2, 1, 6, 5, "Yellow7");add_solution(2, 5, 9, 5, "Red1");add_solution(2, 8, 1, 7, "Red2");add_solution(2, 10, 8, 4, "Red3");add_solution(2, 5, 9, 2, "Red4");add_solution(2, 5, 4, 8, "Red5");add_solution(2, 1, 4, 6, "Red6");add_solution(2, 5, 8, 2, "Red7");add_solution(2, 4, 4, 4, "Cyan1");add_solution(2, 3, 5, 4, "Cyan2");add_solution(2, 7, 3, 9, "Cyan3");add_solution(2, 8, 11, 9, "Cyan4");add_solution(2, 4, 9, 11, "Cyan5");add_solution(2, 12, 5, 5, "Cyan6");add_solution(2, 5, 4, 9, "Cyan7");add_solution(2, 6, 5, 7, "Blue1");add_solution(2, 12, 8, 8, "Blue2");add_solution(2, 6, 2, 9, "Blue3");add_solution(2, 9, 11, 3, "Blue4");add_solution(2, 4, 7, 5, "Blue5");add_solution(2, 10, 9, 7, "Blue6");add_solution(2, 9, 11, 7, "Blue7");add_solution(2, 9, 12, 4, "Purple1");add_solution(2, 4, 6, 9, "Purple2");add_solution(2, 12, 7, 5, "Purple3");add_solution(2, 9, 6, 8, "Purple4");add_solution(2, 6, 2, 7, "Purple5");add_solution(2, 2, 9, 1, "Purple6");add_solution(2, 8, 3, 5, "Purple7");add_solution(3, 8, 5, 4, "Green1");add_solution(3, 9, 10, 10, "Green2");add_solution(3, 7, 8, 3, "Green3");add_solution(3, 1, 2, 6, "Green4");add_solution(3, 12, 10, 6, "Green5");add_solution(3, 1, 7, 9, "Green6");add_solution(3, 6, 7, 4, "Green7");add_solution(3, 8, 10, 7, "White1");add_solution(3, 9, 11, 7, "White2");add_solution(3, 7, 8, 1, "White3");add_solution(3, 11, 2, 8, "White4");add_solution(3, 4, 6, 9, "White5");add_solution(3, 1, 7, 2, "White6");add_solution(3, 3, 5, 2, "White7");add_solution(3, 9, 7, 3, "Yellow1");add_solution(3, 1, 10, 5, "Yellow2");add_solution(3, 10, 3, 8, "Yellow3");add_solution(3, 12, 7, 11, "Yellow4");add_solution(3, 5, 11, 7, "Yellow5");add_solution(3, 1, 11, 6, "Yellow6");add_solution(3, 11, 9, 11, "Yellow7");add_solution(3, 7, 11, 1, "Red1");add_solution(3, 4, 8, 2, "Red2");add_solution(3, 11, 11, 8, "Red3");add_solution(3, 7, 12, 6, "Red4");add_solution(3, 8, 11, 4, "Red5");add_solution(3, 12, 1, 3, "Red6");add_solution(3, 7, 4, 3, "Red7");add_solution(3, 10, 5, 6, "Cyan1");add_solution(3, 10, 6, 5, "Cyan2");add_solution(3, 9, 6, 1, "Cyan3");add_solution(3, 1, 3, 7, "Cyan4");add_solution(3, 10, 10, 2, "Cyan5");add_solution(3, 5, 11, 3, "Cyan6");add_solution(3, 9, 4, 10, "Cyan7");add_solution(3, 9, 10, 11, "Blue1");add_solution(3, 9, 11, 3, "Blue2");add_solution(3, 8, 7, 4, "Blue3");add_solution(3, 2, 11, 1, "Blue4");add_solution(3, 8, 12, 11, "Blue5");add_solution(3, 2, 11, 12, "Blue6");add_solution(3, 11, 4, 4, "Blue7");add_solution(3, 6, 11, 12, "Purple1");add_solution(3, 2, 6, 8, "Purple2");add_solution(3, 9, 10, 3, "Purple3");add_solution(3, 5, 10, 10, "Purple4");add_solution(3, 2, 10, 7, "Purple5");add_solution(3, 5, 6, 1, "Purple6");add_solution(3, 6, 8, 10, "Purple7");</script>

<div class='container'>
<div class='wheelcontainer'>
<svg class='wheel' viewbox="-1,-1,2,2">
<polygon points="0,-1 0.259,-0.966 0.485,-0.875 0.364,-0.656 0.194,-0.724 0,-0.75"class="ring" id="ring-1" onClick="assignValue(1)" />
<polygon points="0.5,-0.866 0.707,-0.707 0.857,-0.515 0.643,-0.386 0.53,-0.53 0.375,-0.65"class="ring" id="ring-2" onClick="assignValue(2)" />
<polygon points="0.866,-0.5 0.966,-0.259 1,-0.017 0.75,-0.013 0.724,-0.194 0.65,-0.375"class="ring" id="ring-3" onClick="assignValue(3)" />
<polygon points="1,0 0.966,0.259 0.875,0.485 0.656,0.364 0.724,0.194 0.75,0"class="ring" id="ring-4" onClick="assignValue(4)" />
<polygon points="0.866,0.5 0.707,0.707 0.515,0.857 0.386,0.643 0.53,0.53 0.65,0.375"class="ring" id="ring-5" onClick="assignValue(5)" />
<polygon points="0.5,0.866 0.259,0.966 0.017,1 0.013,0.75 0.194,0.724 0.375,0.65"class="ring" id="ring-6" onClick="assignValue(6)" />
<polygon points="0,1 -0.259,0.966 -0.485,0.875 -0.364,0.656 -0.194,0.724 0,0.75"class="ring" id="ring-7" onClick="assignValue(7)" />
<polygon points="-0.5,0.866 -0.707,0.707 -0.857,0.515 -0.643,0.386 -0.53,0.53 -0.375,0.65"class="ring" id="ring-8" onClick="assignValue(8)" />
<polygon points="-0.866,0.5 -0.966,0.259 -1,0.017 -0.75,0.013 -0.724,0.194 -0.65,0.375"class="ring" id="ring-9" onClick="assignValue(9)" />
<polygon points="-1,0 -0.966,-0.259 -0.875,-0.485 -0.656,-0.364 -0.724,-0.194 -0.75,0"class="ring" id="ring-10" onClick="assignValue(10)" />
<polygon points="-0.866,-0.5 -0.707,-0.707 -0.515,-0.857 -0.386,-0.643 -0.53,-0.53 -0.65,-0.375"class="ring" id="ring-11" onClick="assignValue(11)" />
<polygon points="-0.5,-0.866 -0.259,-0.966 -0.017,-1 -0.013,-0.75 -0.194,-0.724 -0.375,-0.65"class="ring" id="ring-12" onClick="assignValue(12)" />	
<polygon points="-0.6,-0.3 -0.2,-0.3 -0.2,0.3 -0.6,0.3" class="entry" id="digit1" onClick="enterDigit(1, true);" />
<polygon points="-0.2,-0.3 0.2,-0.3 0.2,0.3 -0.2,0.3" class="entry" id="digit2" onClick="enterDigit(2, true);" />
<polygon points="0.2,-0.3 0.6,-0.3 0.6,0.3 0.2,0.3" class="entry" id="digit3" onClick="enterDigit(3, true);" />

<!image x="-0.15" y="-0.65" width="0.3" height="0.3" xlink:href="https://www.bungie.net/img/destiny_content/damage_types/destiny2/void.png" />
<!image x="-0.15" y="0.35" width="0.3" height="0.3" xlink:href="https://i.imgur.com/B3y0JgY.png" />

<!image x="-0.15" y="-0.65" width="0.3" height="0.3" xlink:href="https://www.bungie.net/img/destiny_content/damage_types/destiny2/arc.png" />
<!image x="-0.15" y="0.35" width="0.3" height="0.3" xlink:href="https://i.imgur.com/FLiVWLN.png" />

<image x="-0.15" y="-0.65" width="0.3" height="0.3" xlink:href="https://www.bungie.net/img/destiny_content/damage_types/destiny2/thermal.png" />
<image x="-0.15" y="0.35" width="0.3" height="0.3" xlink:href="https://i.imgur.com/fI7f8Gq.png" />

<text x="-0.4" y="0.0" class="digit" font-size="0.3" id="digit1val" text-anchor="middle"></text>
<text x="0.0" y="0.0" class="digit" font-size="0.3" id="digit2val" text-anchor="middle"></text>
<text x="0.4" y="0.0" class="digit" font-size="0.3" id="digit3val" text-anchor="middle"></text>
<text x="-0.4" y="0.15" class="digithelp" font-size="0.05" text-anchor="middle">Terminal 1</text>
<text x="-0.4" y="0.22" class="digithelp" font-size="0.05" text-anchor="middle">Left side</text>
<text x="0.0" y="0.15" class="digithelp" font-size="0.05" text-anchor="middle">Terminal 1</text>
<text x="0.0" y="0.22" class="digithelp" font-size="0.05" text-anchor="middle">Right side</text>
<text x="0.4" y="0.15" class="digithelp" font-size="0.05" text-anchor="middle">Terminal 2</text>
<text x="0.4" y="0.22" class="digithelp" font-size="0.05" text-anchor="middle">Left side</text>
<polygon points="-0.6,0.1 0.6,0.1 0.6,0.3 -0.6,0.3" class="solutionbox hidden"  id="solutionbox" />
<text x="0.0" y="0.25" class="digit" font-size="0.15" class="solutiontext hidden" id="solutiontext" text-anchor="middle"></text>
<circle cx="0.85" cy="0.85" r="0.1" fill="transparent" stroke="#fff" stroke-width="0.01" onClick="show_info()" />
<text x="0.85" y="0.9" font-size="0.15" fill="#fff" text-anchor="middle" pointer-events="none" onClick="show_info()">i</text>
</svg>
</div>
</div>

<script type='text/javascript'>enterDigit(1, false);</script>
